import{a as x}from"./with-props-DOCsIwbA.js";import{q as h,r as i,l as e}from"./chunk-IR6S3I6Y-CejqwHmg.js";import{B as f}from"./button-CxA8GfrW.js";import{L as a,I as l}from"./label-C0bLR-oj.js";import{S as g,a as j,b as v,c as N,d as w,e as b}from"./select-CW9NS8NW.js";import{U as y}from"./user-auth.service-DFgw_HWI.js";import{t as S}from"./teams-Hu_9tiVv.js";import{c as _}from"./createLucideIcon-BDxvMJNy.js";import{E}from"./eye-DQ0MK9Z5.js";import"./index-BKcokVnB.js";import"./utils-DgjiVB1k.js";import"./index-CsB1J-M4.js";import"./index-3ThQvDAs.js";import"./index-BdQq_4o_.js";import"./index-BDMYZm18.js";import"./Combination-CDPyXvYw.js";import"./index-Bp6M9VFR.js";import"./http-CHaSCwl_.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],q=_("EyeOff",I),k=new y,W=x(function(){const m=h(),[o,n]=i.useState(!1),[c,d]=i.useState(null),[t,p]=i.useState(!1),u=async s=>{s.preventDefault(),n(!0),d(null);try{const r=Object.fromEntries(new FormData(s.target));await k.register({email:r.email,password:r.password,username:r.username,team_favorite_api_id:parseInt(r.team_favorite_api_id)}),m("/home")}catch{d("Une erreur est survenue lors de l'inscription. Veuillez réessayer.")}finally{n(!1)}};return e.jsx("form",{onSubmit:u,className:"p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col items-center text-center",children:e.jsx("h1",{className:"text-2xl font-bold text-redsuperlig",children:"Inscription"})}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{className:"text-redsuperlig",htmlFor:"username",children:"Nom d'utilisateur"}),e.jsx(l,{id:"username",name:"username",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{className:"text-redsuperlig",htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",type:"email",name:"email",placeholder:"m@example.com",required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{className:"text-redsuperlig",htmlFor:"password",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"password",type:t?"text":"password",name:"password",placeholder:"********",required:!0}),e.jsx("button",{type:"button",onClick:()=>p(!t),className:"absolute text-gray-500 -translate-y-1/2 right-3 top-1/2 hover:text-gray-700",children:t?e.jsx(q,{className:"w-4 h-4"}):e.jsx(E,{className:"w-4 h-4"})})]})]}),e.jsx(a,{className:"text-redsuperlig",htmlFor:"favoriteClub",children:"Équipe favorite"}),e.jsxs(g,{name:"team_favorite_api_id",children:[e.jsx(j,{className:"w-full",children:e.jsx(v,{placeholder:"Sélectionnez une équipe"})}),e.jsx(N,{children:e.jsx(w,{children:S.map(s=>e.jsx(b,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.image_path,alt:s.name,className:"w-4 h-4"}),s.name]})},s.id))})})]}),c&&e.jsx("div",{className:"p-3 text-sm text-red-500 bg-red-100 border border-red-200 rounded",children:c}),e.jsx(f,{type:"submit",className:"w-full bg-redsuperlig hover:bg-redsuperlig/80",disabled:o,children:o?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white rounded-full animate-spin border-t-transparent"}),"Inscription en cours..."]}):"S'inscrire"}),e.jsxs("div",{className:"text-sm text-center",children:["Vous avez déjà un compte ?"," ",e.jsx("a",{href:"/login",className:"underline underline-offset-4",children:"Se connecter"})]})]})})});export{W as default};
