import{a as Rn}from"./with-props-DOCsIwbA.js";import{r as m,l as i,t as h}from"./chunk-IR6S3I6Y-CejqwHmg.js";import{H as Tn}from"./header-page-DZxyNwnu.js";import{T as En,a as Cn,b as Te,c as Dn,u as Pn,S as Nn}from"./score-or-hour-CwsPLb6e.js";import{F as jn,f as dt}from"./hour-formatter-CzWevOZy.js";import{B as Pe}from"./button-CxA8GfrW.js";import{R as An,a as On}from"./result-card-name-club-FS8G1A8c.js";import{O as Ye,P as xt,C as Xe,a as St,X as _n,T as qe,D as Ge,R as yt,b as Rt}from"./index-DpQDMHnk.js";import{c as X}from"./utils-DgjiVB1k.js";import{u as Ln}from"./use-fetch-query-tJGRwGxT.js";import{C as Mn,a as Hn}from"./card-Dz_Aei1W.js";import{P as be}from"./index-CsB1J-M4.js";import{P as Ae}from"./index-CGy8wEnV.js";import{d as In,c as $n,b as ie,u as ae,g as Fn}from"./index-BDMYZm18.js";import{u as de}from"./index-BKcokVnB.js";import{c as kn}from"./index-BdQq_4o_.js";import{E as ft}from"./eye-DQ0MK9Z5.js";import{m as Bn}from"./proxy-Dfs-9Oo0.js";import"./http-CHaSCwl_.js";import"./createLucideIcon-BDxvMJNy.js";import"./Combination-CDPyXvYw.js";import"./index-3ThQvDAs.js";import"./QueryClientProvider-kVcQyYS3.js";const Fe=768;function Wn(){const[e,n]=m.useState(void 0);return m.useEffect(()=>{const t=window.matchMedia(`(max-width: ${Fe-1}px)`),r=()=>{n(window.innerWidth<Fe)};return t.addEventListener("change",r),n(window.innerWidth<Fe),()=>t.removeEventListener("change",r)},[]),!!e}const zn=yt,Un=Rt,Vn=xt,Tt=m.forwardRef(({className:e,...n},t)=>i.jsx(Ye,{ref:t,className:X("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));Tt.displayName=Ye.displayName;const Et=m.forwardRef(({className:e,children:n,...t},r)=>i.jsxs(Vn,{children:[i.jsx(Tt,{}),i.jsxs(Xe,{ref:r,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[n,i.jsxs(St,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(_n,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Et.displayName=Xe.displayName;const Ct=({className:e,...n})=>i.jsx("div",{className:X("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});Ct.displayName="DialogHeader";const Dt=m.forwardRef(({className:e,...n},t)=>i.jsx(qe,{ref:t,className:X("text-lg font-semibold leading-none tracking-tight",e),...n}));Dt.displayName=qe.displayName;const Pt=m.forwardRef(({className:e,...n},t)=>i.jsx(Ge,{ref:t,className:X("text-sm text-muted-foreground",e),...n}));Pt.displayName=Ge.displayName;function Yn(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const Nt=h.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),xe=()=>{const e=h.useContext(Nt);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Yn(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Xn(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function qn(){return Ke(/^Mac/)}function Gn(){return Ke(/^iPhone/)}function mt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Kn(){return Ke(/^iPad/)||qn()&&navigator.maxTouchPoints>1}function jt(){return Gn()||Kn()}function Ke(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Jn=24,Qn=typeof window<"u"?m.useLayoutEffect:m.useEffect;function ht(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}const ke=typeof document<"u"&&window.visualViewport;function pt(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function At(e){for(pt(e)&&(e=e.parentElement);e&&!pt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Zn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ee=0,Be;function er(e={}){let{isDisabled:n}=e;Qn(()=>{if(!n)return Ee++,Ee===1&&jt()&&(Be=tr()),()=>{Ee--,Ee===0&&(Be==null||Be())}},[n])}function tr(){let e,n=0,t=f=>{e=At(f.target),!(e===document.documentElement&&e===document.body)&&(n=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let u=f.changedTouches[0].pageY,R=e.scrollTop,P=e.scrollHeight-e.clientHeight;P!==0&&((R<=0&&u>n||R>=P&&u<n)&&f.preventDefault(),n=u)},o=f=>{let u=f.target;Ue(u)&&u!==document.activeElement&&(f.preventDefault(),u.style.transform="translateY(-2000px)",u.focus(),requestAnimationFrame(()=>{u.style.transform=""}))},a=f=>{let u=f.target;Ue(u)&&(u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",ke&&(ke.height<window.innerHeight?requestAnimationFrame(()=>{wt(u)}):ke.addEventListener("resize",()=>wt(u),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},l=window.pageXOffset,d=window.pageYOffset,p=ht(nr(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let c=ht(ge(document,"touchstart",t,{passive:!1,capture:!0}),ge(document,"touchmove",r,{passive:!1,capture:!0}),ge(document,"touchend",o,{passive:!1,capture:!0}),ge(document,"focus",a,!0),ge(window,"scroll",s));return()=>{p(),c(),window.scrollTo(l,d)}}function nr(e,n,t){let r=e.style[n];return e.style[n]=t,()=>{e.style[n]=r}}function ge(e,n,t,r){return e.addEventListener(n,t,r),()=>{e.removeEventListener(n,t,r)}}function wt(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=At(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,o=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const s=t.getBoundingClientRect().bottom+Jn;a>s&&(t.scrollTop+=o-r)}e=t.parentElement}}function Ue(e){return e instanceof HTMLInputElement&&!Zn.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function rr(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function or(...e){return n=>e.forEach(t=>rr(t,n))}function Ot(...e){return m.useCallback(or(...e),e)}const _t=new WeakMap;function I(e,n,t=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(n).forEach(([o,a])=>{if(o.startsWith("--")){e.style.setProperty(o,a);return}r[o]=e.style[o],e.style[o]=a}),!t&&_t.set(e,r)}function ar(e,n){if(!e||!(e instanceof HTMLElement))return;let t=_t.get(e);t&&(e.style[n]=t[n])}const H=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ce(e,n){if(!e)return null;const t=window.getComputedStyle(e),r=t.transform||t.webkitTransform||t.mozTransform;let o=r.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[H(n)?13:12]):(o=r.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[H(n)?5:4]):null)}function ir(e){return 8*(Math.log(e+1)-2)}function We(e,n){if(!e)return()=>{};const t=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=t}}function sr(...e){return(...n)=>{for(const t of e)typeof t=="function"&&t(...n)}}const O={DURATION:.5,EASE:[.32,.72,0,1]},Lt=.4,lr=.25,cr=100,Mt=8,De=16,Ve=26,ze="vaul-dragging";function Ht(e){const n=h.useRef(e);return h.useEffect(()=>{n.current=e}),h.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function ur({defaultProp:e,onChange:n}){const t=h.useState(e),[r]=t,o=h.useRef(r),a=Ht(n);return h.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),t}function It({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,o]=ur({defaultProp:n,onChange:t}),a=e!==void 0,s=a?e:r,l=Ht(t),d=h.useCallback(p=>{if(a){const f=typeof p=="function"?p(e):p;f!==e&&l(f)}else o(p)},[a,e,o,l]);return[s,d]}function dr({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:r,overlayRef:o,fadeFromIndex:a,onSnapPointChange:s,direction:l="bottom",container:d,snapToSequentialPoint:p}){const[c,f]=It({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),[u,R]=h.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);h.useEffect(()=>{function v(){R({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const P=h.useMemo(()=>c===(t==null?void 0:t[t.length-1])||null,[t,c]),C=h.useMemo(()=>{var v;return(v=t==null?void 0:t.findIndex(T=>T===c))!=null?v:null},[t,c]),$=t&&t.length>0&&(a||a===0)&&!Number.isNaN(a)&&t[a]===c||!t,x=h.useMemo(()=>{const v=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var T;return(T=t==null?void 0:t.map(w=>{const N=typeof w=="string";let A=0;if(N&&(A=parseInt(w,10)),H(l)){const b=N?A:u?w*v.height:0;return u?l==="bottom"?v.height-b:-v.height+b:b}const V=N?A:u?w*v.width:0;return u?l==="right"?v.width-V:-v.width+V:V}))!=null?T:[]},[t,u,d]),_=h.useMemo(()=>C!==null?x==null?void 0:x[C]:null,[x,C]),L=h.useCallback(v=>{var T;const w=(T=x==null?void 0:x.findIndex(N=>N===v))!=null?T:null;s(w),I(r.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:H(l)?`translate3d(0, ${v}px, 0)`:`translate3d(${v}px, 0, 0)`}),x&&w!==x.length-1&&a!==void 0&&w!==a&&w<a?I(o.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"0"}):I(o.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),f(t==null?void 0:t[Math.max(w,0)])},[r.current,t,x,a,o,f]);h.useEffect(()=>{if(c||e){var v;const T=(v=t==null?void 0:t.findIndex(w=>w===e||w===c))!=null?v:-1;x&&T!==-1&&typeof x[T]=="number"&&L(x[T])}},[c,e,t,x,L]);function S({draggedDistance:v,closeDrawer:T,velocity:w,dismissible:N}){if(a===void 0)return;const A=l==="bottom"||l==="right"?(_??0)-v:(_??0)+v,V=C===a-1,b=C===0,Y=v>0;if(V&&I(o.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),!p&&w>2&&!Y){N?T():L(x[0]);return}if(!p&&w>2&&Y&&x&&t){L(x[t.length-1]);return}const B=x==null?void 0:x.reduce((F,ee)=>typeof F!="number"||typeof ee!="number"?F:Math.abs(ee-A)<Math.abs(F-A)?ee:F),q=H(l)?window.innerHeight:window.innerWidth;if(w>Lt&&Math.abs(v)<q*.4){const F=Y?1:-1;if(F>0&&P&&t){L(x[t.length-1]);return}if(b&&F<0&&N&&T(),C===null)return;L(x[C+F]);return}L(B)}function k({draggedDistance:v}){if(_===null)return;const T=l==="bottom"||l==="right"?_-v:_+v;(l==="bottom"||l==="right")&&T<x[x.length-1]||(l==="top"||l==="left")&&T>x[x.length-1]||I(r.current,{transform:H(l)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`})}function U(v,T){if(!t||typeof C!="number"||!x||a===void 0)return null;const w=C===a-1;if(C>=a&&T)return 0;if(w&&!T)return 1;if(!$&&!w)return null;const A=w?C+1:C-1,V=w?x[A]-x[A-1]:x[A+1]-x[A],b=v/Math.abs(V);return w?1-b:b}return{isLastSnapPoint:P,activeSnapPoint:c,shouldFade:$,getPercentageDragged:U,setActiveSnapPoint:f,activeSnapPointIndex:C,onRelease:S,onDrag:k,snapPointsOffset:x}}const fr=()=>()=>{};function mr(){const{direction:e,isOpen:n,shouldScaleBackground:t,setBackgroundColorOnScale:r,noBodyStyles:o}=xe(),a=h.useRef(null),s=m.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Ve)/window.innerWidth}h.useEffect(()=>{if(n&&t){a.current&&clearTimeout(a.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;sr(r&&!o?We(document.body,{background:"black"}):fr,We(d,{transformOrigin:H(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`}));const p=We(d,{borderRadius:`${Mt}px`,overflow:"hidden",...H(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{p(),a.current=window.setTimeout(()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")},O.DURATION*1e3)}}},[n,t,s])}let ve=null;function hr({isOpen:e,modal:n,nested:t,hasBeenOpened:r,preventScrollRestoration:o,noBodyStyles:a}){const[s,l]=h.useState(()=>typeof window<"u"?window.location.href:""),d=h.useRef(0),p=h.useCallback(()=>{if(mt()&&ve===null&&e&&!a){ve={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:u}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const R=u-window.innerHeight;R&&d.current>=u&&(document.body.style.top=`${-(d.current+R)}px`)}),300)}},[e]),c=h.useCallback(()=>{if(mt()&&ve!==null&&!a){const f=-parseInt(document.body.style.top,10),u=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ve),window.requestAnimationFrame(()=>{if(o&&s!==window.location.href){l(window.location.href);return}window.scrollTo(u,f)}),ve=null}},[s]);return h.useEffect(()=>{function f(){d.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),h.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||c()}},[n,c]),h.useEffect(()=>{t||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&p(),n||window.setTimeout(()=>{c()},500)):c())},[e,r,s,n,t,p,c]),{restorePositionSetting:c}}function pr({open:e,onOpenChange:n,children:t,onDrag:r,onRelease:o,snapPoints:a,shouldScaleBackground:s=!1,setBackgroundColorOnScale:l=!0,closeThreshold:d=lr,scrollLockTimeout:p=cr,dismissible:c=!0,handleOnly:f=!1,fadeFromIndex:u=a&&a.length-1,activeSnapPoint:R,setActiveSnapPoint:P,fixed:C,modal:$=!0,onClose:x,nested:_,noBodyStyles:L=!1,direction:S="bottom",defaultOpen:k=!1,disablePreventScroll:U=!0,snapToSequentialPoint:v=!1,preventScrollRestoration:T=!1,repositionInputs:w=!0,onAnimationEnd:N,container:A,autoFocus:V=!1}){var b,Y;const[B=!1,q]=It({defaultProp:k,prop:e,onChange:g=>{n==null||n(g),!g&&!_&&pn(),setTimeout(()=>{N==null||N(g)},O.DURATION*1e3),g&&!$&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),g||(document.body.style.pointerEvents="auto")}}),[F,ee]=h.useState(!1),[te,fe]=h.useState(!1),[cn,tt]=h.useState(!1),se=h.useRef(null),Se=h.useRef(null),Le=h.useRef(null),Me=h.useRef(null),me=h.useRef(null),he=h.useRef(!1),He=h.useRef(null),Ie=h.useRef(0),le=h.useRef(!1),nt=h.useRef(!k),rt=h.useRef(0),y=h.useRef(null),ot=h.useRef(((b=y.current)==null?void 0:b.getBoundingClientRect().height)||0),at=h.useRef(((Y=y.current)==null?void 0:Y.getBoundingClientRect().width)||0),$e=h.useRef(0),un=h.useCallback(g=>{a&&g===pe.length-1&&(Se.current=new Date)},[]),{activeSnapPoint:dn,activeSnapPointIndex:ce,setActiveSnapPoint:it,onRelease:fn,snapPointsOffset:pe,onDrag:mn,shouldFade:st,getPercentageDragged:hn}=dr({snapPoints:a,activeSnapPointProp:R,setActiveSnapPointProp:P,drawerRef:y,fadeFromIndex:u,overlayRef:se,onSnapPointChange:un,direction:S,container:A,snapToSequentialPoint:v});er({isDisabled:!B||te||!$||cn||!F||!w||!U});const{restorePositionSetting:pn}=hr({isOpen:B,modal:$,nested:_??!1,hasBeenOpened:F,preventScrollRestoration:T,noBodyStyles:L});function ye(){return(window.innerWidth-Ve)/window.innerWidth}function wn(g){var D,j;!c&&!a||y.current&&!y.current.contains(g.target)||(ot.current=((D=y.current)==null?void 0:D.getBoundingClientRect().height)||0,at.current=((j=y.current)==null?void 0:j.getBoundingClientRect().width)||0,fe(!0),Le.current=new Date,jt()&&window.addEventListener("touchend",()=>he.current=!1,{once:!0}),g.target.setPointerCapture(g.pointerId),Ie.current=H(S)?g.pageY:g.pageX)}function lt(g,D){var j;let E=g;const M=(j=window.getSelection())==null?void 0:j.toString(),z=y.current?Ce(y.current,S):null,W=new Date;if(E.tagName==="SELECT"||E.hasAttribute("data-vaul-no-drag")||E.closest("[data-vaul-no-drag]"))return!1;if(S==="right"||S==="left")return!0;if(Se.current&&W.getTime()-Se.current.getTime()<500)return!1;if(z!==null&&(S==="bottom"?z>0:z<0))return!0;if(M&&M.length>0)return!1;if(me.current&&W.getTime()-me.current.getTime()<p&&z===0||D)return me.current=W,!1;for(;E;){if(E.scrollHeight>E.clientHeight){if(E.scrollTop!==0)return me.current=new Date,!1;if(E.getAttribute("role")==="dialog")return!0}E=E.parentNode}return!0}function gn(g){if(y.current&&te){const D=S==="bottom"||S==="right"?1:-1,j=(Ie.current-(H(S)?g.pageY:g.pageX))*D,E=j>0,M=a&&!c&&!E;if(M&&ce===0)return;const z=Math.abs(j),W=document.querySelector("[data-vaul-drawer-wrapper]"),ne=S==="bottom"||S==="top"?ot.current:at.current;let K=z/ne;const oe=hn(z,E);if(oe!==null&&(K=oe),M&&K>=1||!he.current&&!lt(g.target,E))return;if(y.current.classList.add(ze),he.current=!0,I(y.current,{transition:"none"}),I(se.current,{transition:"none"}),a&&mn({draggedDistance:j}),E&&!a){const Q=ir(j),Re=Math.min(Q*-1,0)*D;I(y.current,{transform:H(S)?`translate3d(0, ${Re}px, 0)`:`translate3d(${Re}px, 0, 0)`});return}const re=1-K;if((st||u&&ce===u-1)&&(r==null||r(g,K),I(se.current,{opacity:`${re}`,transition:"none"},!0)),W&&se.current&&s){const Q=Math.min(ye()+K*(1-ye()),1),Re=8-K*8,ut=Math.max(0,14-K*14);I(W,{borderRadius:`${Re}px`,transform:H(S)?`scale(${Q}) translate3d(0, ${ut}px, 0)`:`scale(${Q}) translate3d(${ut}px, 0, 0)`,transition:"none"},!0)}if(!a){const Q=z*D;I(y.current,{transform:H(S)?`translate3d(0, ${Q}px, 0)`:`translate3d(${Q}px, 0, 0)`})}}}h.useEffect(()=>{window.requestAnimationFrame(()=>{nt.current=!0})},[]),h.useEffect(()=>{var g;function D(){if(!y.current||!w)return;const j=document.activeElement;if(Ue(j)||le.current){var E;const M=((E=window.visualViewport)==null?void 0:E.height)||0,z=window.innerHeight;let W=z-M;const ne=y.current.getBoundingClientRect().height||0,K=ne>z*.8;$e.current||($e.current=ne);const oe=y.current.getBoundingClientRect().top;if(Math.abs(rt.current-W)>60&&(le.current=!le.current),a&&a.length>0&&pe&&ce){const re=pe[ce]||0;W+=re}if(rt.current=W,ne>M||le.current){const re=y.current.getBoundingClientRect().height;let Q=re;re>M&&(Q=M-(K?oe:Ve)),C?y.current.style.height=`${re-Math.max(W,0)}px`:y.current.style.height=`${Math.max(Q,M-oe)}px`}else Xn()||(y.current.style.height=`${$e.current}px`);a&&a.length>0&&!le.current?y.current.style.bottom="0px":y.current.style.bottom=`${Math.max(W,0)}px`}}return(g=window.visualViewport)==null||g.addEventListener("resize",D),()=>{var j;return(j=window.visualViewport)==null?void 0:j.removeEventListener("resize",D)}},[ce,a,pe]);function we(g){vn(),x==null||x(),g||q(!1),setTimeout(()=>{a&&it(a[0])},O.DURATION*1e3)}function ct(){if(!y.current)return;const g=document.querySelector("[data-vaul-drawer-wrapper]"),D=Ce(y.current,S);I(y.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),I(se.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),s&&D&&D>0&&B&&I(g,{borderRadius:`${Mt}px`,overflow:"hidden",...H(S)?{transform:`scale(${ye()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ye()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`},!0)}function vn(){!te||!y.current||(y.current.classList.remove(ze),he.current=!1,fe(!1),Me.current=new Date)}function bn(g){if(!te||!y.current)return;y.current.classList.remove(ze),he.current=!1,fe(!1),Me.current=new Date;const D=Ce(y.current,S);if(!g||!lt(g.target,!1)||!D||Number.isNaN(D)||Le.current===null)return;const j=Me.current.getTime()-Le.current.getTime(),E=Ie.current-(H(S)?g.pageY:g.pageX),M=Math.abs(E)/j;if(M>.05&&(tt(!0),setTimeout(()=>{tt(!1)},200)),a){fn({draggedDistance:E*(S==="bottom"||S==="right"?1:-1),closeDrawer:we,velocity:M,dismissible:c}),o==null||o(g,!0);return}if(S==="bottom"||S==="right"?E>0:E<0){ct(),o==null||o(g,!0);return}if(M>Lt){we(),o==null||o(g,!1);return}var z;const W=Math.min((z=y.current.getBoundingClientRect().height)!=null?z:0,window.innerHeight);var ne;const K=Math.min((ne=y.current.getBoundingClientRect().width)!=null?ne:0,window.innerWidth),oe=S==="left"||S==="right";if(Math.abs(D)>=(oe?K:W)*d){we(),o==null||o(g,!1);return}o==null||o(g,!0),ct()}h.useEffect(()=>(B&&(I(document.documentElement,{scrollBehavior:"auto"}),Se.current=new Date),()=>{ar(document.documentElement,"scrollBehavior")}),[B]);function xn(g){const D=g?(window.innerWidth-De)/window.innerWidth:1,j=g?-16:0;He.current&&window.clearTimeout(He.current),I(y.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:H(S)?`scale(${D}) translate3d(0, ${j}px, 0)`:`scale(${D}) translate3d(${j}px, 0, 0)`}),!g&&y.current&&(He.current=setTimeout(()=>{const E=Ce(y.current,S);I(y.current,{transition:"none",transform:H(S)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})},500))}function Sn(g,D){if(D<0)return;const j=(window.innerWidth-De)/window.innerWidth,E=j+D*(1-j),M=-16+D*De;I(y.current,{transform:H(S)?`scale(${E}) translate3d(0, ${M}px, 0)`:`scale(${E}) translate3d(${M}px, 0, 0)`,transition:"none"})}function yn(g,D){const j=H(S)?window.innerHeight:window.innerWidth,E=D?(j-De)/j:1,M=D?-16:0;D&&I(y.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:H(S)?`scale(${E}) translate3d(0, ${M}px, 0)`:`scale(${E}) translate3d(${M}px, 0, 0)`})}return h.useEffect(()=>{$||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[$]),h.createElement(yt,{defaultOpen:k,onOpenChange:g=>{!c&&!g||(g?ee(!0):we(!0),q(g))},open:B},h.createElement(Nt.Provider,{value:{activeSnapPoint:dn,snapPoints:a,setActiveSnapPoint:it,drawerRef:y,overlayRef:se,onOpenChange:n,onPress:wn,onRelease:bn,onDrag:gn,dismissible:c,shouldAnimate:nt,handleOnly:f,isOpen:B,isDragging:te,shouldFade:st,closeDrawer:we,onNestedDrag:Sn,onNestedOpenChange:xn,onNestedRelease:yn,keyboardIsOpen:le,modal:$,snapPointsOffset:pe,activeSnapPointIndex:ce,direction:S,shouldScaleBackground:s,setBackgroundColorOnScale:l,noBodyStyles:L,container:A,autoFocus:V}},t))}const $t=h.forwardRef(function({...e},n){const{overlayRef:t,snapPoints:r,onRelease:o,shouldFade:a,isOpen:s,modal:l,shouldAnimate:d}=xe(),p=Ot(n,t),c=r&&r.length>0;if(!l)return null;const f=h.useCallback(u=>o(u),[o]);return h.createElement(Ye,{onMouseUp:f,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":s&&c?"true":"false","data-vaul-snap-points-overlay":s&&a?"true":"false","data-vaul-animate":d!=null&&d.current?"true":"false",...e})});$t.displayName="Drawer.Overlay";const Ft=h.forwardRef(function({onPointerDownOutside:e,style:n,onOpenAutoFocus:t,...r},o){const{drawerRef:a,onPress:s,onRelease:l,onDrag:d,keyboardIsOpen:p,snapPointsOffset:c,activeSnapPointIndex:f,modal:u,isOpen:R,direction:P,snapPoints:C,container:$,handleOnly:x,shouldAnimate:_,autoFocus:L}=xe(),[S,k]=h.useState(!1),U=Ot(o,a),v=h.useRef(null),T=h.useRef(null),w=h.useRef(!1),N=C&&C.length>0;mr();const A=(b,Y,B=0)=>{if(w.current)return!0;const q=Math.abs(b.y),F=Math.abs(b.x),ee=F>q,te=["bottom","right"].includes(Y)?1:-1;if(Y==="left"||Y==="right"){if(!(b.x*te<0)&&F>=0&&F<=B)return ee}else if(!(b.y*te<0)&&q>=0&&q<=B)return!ee;return w.current=!0,!0};h.useEffect(()=>{N&&window.requestAnimationFrame(()=>{k(!0)})},[]);function V(b){v.current=null,w.current=!1,l(b)}return h.createElement(Xe,{"data-vaul-drawer-direction":P,"data-vaul-drawer":"","data-vaul-delayed-snap-points":S?"true":"false","data-vaul-snap-points":R&&N?"true":"false","data-vaul-custom-container":$?"true":"false","data-vaul-animate":_!=null&&_.current?"true":"false",...r,ref:U,style:c&&c.length>0?{"--snap-point-height":`${c[f??0]}px`,...n}:n,onPointerDown:b=>{x||(r.onPointerDown==null||r.onPointerDown.call(r,b),v.current={x:b.pageX,y:b.pageY},s(b))},onOpenAutoFocus:b=>{t==null||t(b),L||b.preventDefault()},onPointerDownOutside:b=>{if(e==null||e(b),!u||b.defaultPrevented){b.preventDefault();return}p.current&&(p.current=!1)},onFocusOutside:b=>{if(!u){b.preventDefault();return}},onPointerMove:b=>{if(T.current=b,x||(r.onPointerMove==null||r.onPointerMove.call(r,b),!v.current))return;const Y=b.pageY-v.current.y,B=b.pageX-v.current.x,q=b.pointerType==="touch"?10:2;A({x:B,y:Y},P,q)?d(b):(Math.abs(B)>q||Math.abs(Y)>q)&&(v.current=null)},onPointerUp:b=>{r.onPointerUp==null||r.onPointerUp.call(r,b),v.current=null,w.current=!1,l(b)},onPointerOut:b=>{r.onPointerOut==null||r.onPointerOut.call(r,b),V(T.current)},onContextMenu:b=>{r.onContextMenu==null||r.onContextMenu.call(r,b),T.current&&V(T.current)}})});Ft.displayName="Drawer.Content";const wr=250,gr=120,vr=h.forwardRef(function({preventCycle:e=!1,children:n,...t},r){const{closeDrawer:o,isDragging:a,snapPoints:s,activeSnapPoint:l,setActiveSnapPoint:d,dismissible:p,handleOnly:c,isOpen:f,onPress:u,onDrag:R}=xe(),P=h.useRef(null),C=h.useRef(!1);function $(){if(C.current){L();return}window.setTimeout(()=>{x()},gr)}function x(){if(a||e||C.current){L();return}if(L(),!s||s.length===0){p||o();return}if(l===s[s.length-1]&&p){o();return}const k=s.findIndex(v=>v===l);if(k===-1)return;const U=s[k+1];d(U)}function _(){P.current=window.setTimeout(()=>{C.current=!0},wr)}function L(){P.current&&window.clearTimeout(P.current),C.current=!1}return h.createElement("div",{onClick:$,onPointerCancel:L,onPointerDown:S=>{c&&u(S),_()},onPointerMove:S=>{c&&R(S)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...t},h.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});vr.displayName="Drawer.Handle";function br(e){const n=xe(),{container:t=n.container,...r}=e;return h.createElement(xt,{container:t,...r})}const J={Root:pr,Content:Ft,Overlay:$t,Trigger:Rt,Portal:br,Close:St,Title:qe,Description:Ge},kt=({shouldScaleBackground:e=!0,...n})=>i.jsx(J.Root,{shouldScaleBackground:e,...n});kt.displayName="Drawer";const xr=J.Trigger,Sr=J.Portal,yr=J.Close,Bt=m.forwardRef(({className:e,...n},t)=>i.jsx(J.Overlay,{ref:t,className:X("fixed inset-0 z-50 bg-black/80",e),...n}));Bt.displayName=J.Overlay.displayName;const Wt=m.forwardRef(({className:e,children:n,...t},r)=>i.jsxs(Sr,{children:[i.jsx(Bt,{}),i.jsxs(J.Content,{ref:r,className:X("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...t,children:[i.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]}));Wt.displayName="DrawerContent";const zt=({className:e,...n})=>i.jsx("div",{className:X("grid gap-1.5 p-4 text-center sm:text-left",e),...n});zt.displayName="DrawerHeader";const Ut=({className:e,...n})=>i.jsx("div",{className:X("mt-auto flex flex-col gap-2 p-4",e),...n});Ut.displayName="DrawerFooter";const Vt=m.forwardRef(({className:e,...n},t)=>i.jsx(J.Title,{ref:t,className:X("text-lg font-semibold leading-none tracking-tight",e),...n}));Vt.displayName=J.Title.displayName;const Yt=m.forwardRef(({className:e,...n},t)=>i.jsx(J.Description,{ref:t,className:X("text-sm text-muted-foreground",e),...n}));Yt.displayName=J.Description.displayName;function Rr(e,n){const t=new jn;return Ln(["fixturePreview",e.toString()],()=>t.getFixtureById(e),{requireAuth:!0,enabled:n})}function Tr(e,n){return m.useReducer((t,r)=>n[t][r]??t,e)}var Je="ScrollArea",[Xt,uo]=$n(Je),[Er,G]=Xt(Je),qt=m.forwardRef((e,n)=>{const{__scopeScrollArea:t,type:r="hover",dir:o,scrollHideDelay:a=600,...s}=e,[l,d]=m.useState(null),[p,c]=m.useState(null),[f,u]=m.useState(null),[R,P]=m.useState(null),[C,$]=m.useState(null),[x,_]=m.useState(0),[L,S]=m.useState(0),[k,U]=m.useState(!1),[v,T]=m.useState(!1),w=de(n,A=>d(A)),N=In(o);return i.jsx(Er,{scope:t,type:r,dir:N,scrollHideDelay:a,scrollArea:l,viewport:p,onViewportChange:c,content:f,onContentChange:u,scrollbarX:R,onScrollbarXChange:P,scrollbarXEnabled:k,onScrollbarXEnabledChange:U,scrollbarY:C,onScrollbarYChange:$,scrollbarYEnabled:v,onScrollbarYEnabledChange:T,onCornerWidthChange:_,onCornerHeightChange:S,children:i.jsx(be.div,{dir:N,...s,ref:w,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":L+"px",...e.style}})})});qt.displayName=Je;var Gt="ScrollAreaViewport",Kt=m.forwardRef((e,n)=>{const{__scopeScrollArea:t,children:r,nonce:o,...a}=e,s=G(Gt,t),l=m.useRef(null),d=de(n,l,s.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(be.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Kt.displayName=Gt;var Z="ScrollAreaScrollbar",Qe=m.forwardRef((e,n)=>{const{forceMount:t,...r}=e,o=G(Z,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=o,l=e.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):s(!0),()=>{l?a(!1):s(!1)}),[l,a,s]),o.type==="hover"?i.jsx(Cr,{...r,ref:n,forceMount:t}):o.type==="scroll"?i.jsx(Dr,{...r,ref:n,forceMount:t}):o.type==="auto"?i.jsx(Jt,{...r,ref:n,forceMount:t}):o.type==="always"?i.jsx(Ze,{...r,ref:n}):null});Qe.displayName=Z;var Cr=m.forwardRef((e,n)=>{const{forceMount:t,...r}=e,o=G(Z,e.__scopeScrollArea),[a,s]=m.useState(!1);return m.useEffect(()=>{const l=o.scrollArea;let d=0;if(l){const p=()=>{window.clearTimeout(d),s(!0)},c=()=>{d=window.setTimeout(()=>s(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",p),l.addEventListener("pointerleave",c),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",p),l.removeEventListener("pointerleave",c)}}},[o.scrollArea,o.scrollHideDelay]),i.jsx(Ae,{present:t||a,children:i.jsx(Jt,{"data-state":a?"visible":"hidden",...r,ref:n})})}),Dr=m.forwardRef((e,n)=>{const{forceMount:t,...r}=e,o=G(Z,e.__scopeScrollArea),a=e.orientation==="horizontal",s=_e(()=>d("SCROLL_END"),100),[l,d]=Tr("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const p=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(p)}},[l,o.scrollHideDelay,d]),m.useEffect(()=>{const p=o.viewport,c=a?"scrollLeft":"scrollTop";if(p){let f=p[c];const u=()=>{const R=p[c];f!==R&&(d("SCROLL"),s()),f=R};return p.addEventListener("scroll",u),()=>p.removeEventListener("scroll",u)}},[o.viewport,a,d,s]),i.jsx(Ae,{present:t||l!=="hidden",children:i.jsx(Ze,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:n,onPointerEnter:ie(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ie(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Jt=m.forwardRef((e,n)=>{const t=G(Z,e.__scopeScrollArea),{forceMount:r,...o}=e,[a,s]=m.useState(!1),l=e.orientation==="horizontal",d=_e(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,c=t.viewport.offsetHeight<t.viewport.scrollHeight;s(l?p:c)}},10);return ue(t.viewport,d),ue(t.content,d),i.jsx(Ae,{present:r||a,children:i.jsx(Ze,{"data-state":a?"visible":"hidden",...o,ref:n})})}),Ze=m.forwardRef((e,n)=>{const{orientation:t="vertical",...r}=e,o=G(Z,e.__scopeScrollArea),a=m.useRef(null),s=m.useRef(0),[l,d]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=nn(l.viewport,l.content),c={...r,sizes:l,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:u=>a.current=u,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:u=>s.current=u};function f(u,R){return _r(u,s.current,l,R)}return t==="horizontal"?i.jsx(Pr,{...c,ref:n,onThumbPositionChange:()=>{if(o.viewport&&a.current){const u=o.viewport.scrollLeft,R=gt(u,l,o.dir);a.current.style.transform=`translate3d(${R}px, 0, 0)`}},onWheelScroll:u=>{o.viewport&&(o.viewport.scrollLeft=u)},onDragScroll:u=>{o.viewport&&(o.viewport.scrollLeft=f(u,o.dir))}}):t==="vertical"?i.jsx(Nr,{...c,ref:n,onThumbPositionChange:()=>{if(o.viewport&&a.current){const u=o.viewport.scrollTop,R=gt(u,l);a.current.style.transform=`translate3d(0, ${R}px, 0)`}},onWheelScroll:u=>{o.viewport&&(o.viewport.scrollTop=u)},onDragScroll:u=>{o.viewport&&(o.viewport.scrollTop=f(u))}}):null}),Pr=m.forwardRef((e,n)=>{const{sizes:t,onSizesChange:r,...o}=e,a=G(Z,e.__scopeScrollArea),[s,l]=m.useState(),d=m.useRef(null),p=de(n,d,a.onScrollbarXChange);return m.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),i.jsx(Zt,{"data-orientation":"horizontal",...o,ref:p,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Oe(t)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(a.viewport){const u=a.viewport.scrollLeft+c.deltaX;e.onWheelScroll(u),on(u,f)&&c.preventDefault()}},onResize:()=>{d.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:je(s.paddingLeft),paddingEnd:je(s.paddingRight)}})}})}),Nr=m.forwardRef((e,n)=>{const{sizes:t,onSizesChange:r,...o}=e,a=G(Z,e.__scopeScrollArea),[s,l]=m.useState(),d=m.useRef(null),p=de(n,d,a.onScrollbarYChange);return m.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),i.jsx(Zt,{"data-orientation":"vertical",...o,ref:p,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Oe(t)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(a.viewport){const u=a.viewport.scrollTop+c.deltaY;e.onWheelScroll(u),on(u,f)&&c.preventDefault()}},onResize:()=>{d.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:je(s.paddingTop),paddingEnd:je(s.paddingBottom)}})}})}),[jr,Qt]=Xt(Z),Zt=m.forwardRef((e,n)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:o,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:c,onResize:f,...u}=e,R=G(Z,t),[P,C]=m.useState(null),$=de(n,w=>C(w)),x=m.useRef(null),_=m.useRef(""),L=R.viewport,S=r.content-r.viewport,k=ae(c),U=ae(d),v=_e(f,10);function T(w){if(x.current){const N=w.clientX-x.current.left,A=w.clientY-x.current.top;p({x:N,y:A})}}return m.useEffect(()=>{const w=N=>{const A=N.target;(P==null?void 0:P.contains(A))&&k(N,S)};return document.addEventListener("wheel",w,{passive:!1}),()=>document.removeEventListener("wheel",w,{passive:!1})},[L,P,S,k]),m.useEffect(U,[r,U]),ue(P,v),ue(R.content,v),i.jsx(jr,{scope:t,scrollbar:P,hasThumb:o,onThumbChange:ae(a),onThumbPointerUp:ae(s),onThumbPositionChange:U,onThumbPointerDown:ae(l),children:i.jsx(be.div,{...u,ref:$,style:{position:"absolute",...u.style},onPointerDown:ie(e.onPointerDown,w=>{w.button===0&&(w.target.setPointerCapture(w.pointerId),x.current=P.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",R.viewport&&(R.viewport.style.scrollBehavior="auto"),T(w))}),onPointerMove:ie(e.onPointerMove,T),onPointerUp:ie(e.onPointerUp,w=>{const N=w.target;N.hasPointerCapture(w.pointerId)&&N.releasePointerCapture(w.pointerId),document.body.style.webkitUserSelect=_.current,R.viewport&&(R.viewport.style.scrollBehavior=""),x.current=null})})})}),Ne="ScrollAreaThumb",en=m.forwardRef((e,n)=>{const{forceMount:t,...r}=e,o=Qt(Ne,e.__scopeScrollArea);return i.jsx(Ae,{present:t||o.hasThumb,children:i.jsx(Ar,{ref:n,...r})})}),Ar=m.forwardRef((e,n)=>{const{__scopeScrollArea:t,style:r,...o}=e,a=G(Ne,t),s=Qt(Ne,t),{onThumbPositionChange:l}=s,d=de(n,f=>s.onThumbChange(f)),p=m.useRef(void 0),c=_e(()=>{p.current&&(p.current(),p.current=void 0)},100);return m.useEffect(()=>{const f=a.viewport;if(f){const u=()=>{if(c(),!p.current){const R=Lr(f,l);p.current=R,l()}};return l(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[a.viewport,c,l]),i.jsx(be.div,{"data-state":s.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ie(e.onPointerDownCapture,f=>{const R=f.target.getBoundingClientRect(),P=f.clientX-R.left,C=f.clientY-R.top;s.onThumbPointerDown({x:P,y:C})}),onPointerUp:ie(e.onPointerUp,s.onThumbPointerUp)})});en.displayName=Ne;var et="ScrollAreaCorner",tn=m.forwardRef((e,n)=>{const t=G(et,e.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?i.jsx(Or,{...e,ref:n}):null});tn.displayName=et;var Or=m.forwardRef((e,n)=>{const{__scopeScrollArea:t,...r}=e,o=G(et,t),[a,s]=m.useState(0),[l,d]=m.useState(0),p=!!(a&&l);return ue(o.scrollbarX,()=>{var f;const c=((f=o.scrollbarX)==null?void 0:f.offsetHeight)||0;o.onCornerHeightChange(c),d(c)}),ue(o.scrollbarY,()=>{var f;const c=((f=o.scrollbarY)==null?void 0:f.offsetWidth)||0;o.onCornerWidthChange(c),s(c)}),p?i.jsx(be.div,{...r,ref:n,style:{width:a,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function je(e){return e?parseInt(e,10):0}function nn(e,n){const t=e/n;return isNaN(t)?0:t}function Oe(e){const n=nn(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-t)*n;return Math.max(r,18)}function _r(e,n,t,r="ltr"){const o=Oe(t),a=o/2,s=n||a,l=o-s,d=t.scrollbar.paddingStart+s,p=t.scrollbar.size-t.scrollbar.paddingEnd-l,c=t.content-t.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return rn([d,p],f)(e)}function gt(e,n,t="ltr"){const r=Oe(n),o=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,a=n.scrollbar.size-o,s=n.content-n.viewport,l=a-r,d=t==="ltr"?[0,s]:[s*-1,0],p=kn(e,d);return rn([0,s],[0,l])(p)}function rn(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(e[1]-e[0]);return n[0]+r*(t-e[0])}}function on(e,n){return e>0&&e<n}var Lr=(e,n=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},s=t.left!==a.left,l=t.top!==a.top;(s||l)&&n(),t=a,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function _e(e,n){const t=ae(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,n)},[t,n])}function ue(e,n){const t=ae(n);Fn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,t])}var an=qt,Mr=Kt,Hr=tn;const sn=m.forwardRef(({className:e,children:n,...t},r)=>i.jsxs(an,{ref:r,className:X("relative overflow-hidden",e),...t,children:[i.jsx(Mr,{className:"h-full w-full rounded-[inherit]",children:n}),i.jsx(ln,{}),i.jsx(Hr,{})]}));sn.displayName=an.displayName;const ln=m.forwardRef(({className:e,orientation:n="vertical",...t},r)=>i.jsx(Qe,{ref:r,orientation:n,className:X("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:i.jsx(en,{className:"relative flex-1 rounded-full bg-border"})}));ln.displayName=Qe.displayName;const Ir=({data:e})=>{if(!e.sidelined||e.sidelined.length===0)return i.jsx("div",{children:"No absence"});const n=e.sidelined.filter(r=>{var o,a;return r.participant_id===((a=(o=e.formations)==null?void 0:o[0])==null?void 0:a.participant_id)}),t=e.sidelined.filter(r=>{var o,a;return r.participant_id===((a=(o=e.formations)==null?void 0:o[1])==null?void 0:a.participant_id)});return i.jsx(sn,{className:"h-[500px]",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("div",{className:"flex flex-col gap-2",children:n.map(r=>i.jsx(vt,{item:r},r.id))}),i.jsx("div",{className:"flex flex-col gap-2",children:t.map(r=>i.jsx(vt,{item:r},r.id))})]})})},vt=({item:e})=>i.jsx(Mn,{className:"border-2 shadow-sm",children:i.jsx(Hn,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"relative flex-shrink-0",children:i.jsx("img",{src:e.sideline.player.image_path,alt:e.sideline.player.name,className:"w-10 h-10 rounded-full"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium truncate",children:e.sideline.player.common_name}),i.jsx("p",{className:"text-xs font-medium text-red-500 mt-0.5 truncate",children:e.sideline.category})]})]})})}),$r=({fixtureId:e})=>{const n=Wn(),[t,r]=m.useState(!1),{data:o,isLoading:a,isFetching:s}=Rr(e,t);return a||s?i.jsx("div",{children:"Loading..."}):n?i.jsxs(kt,{open:t,onOpenChange:r,children:[i.jsx(xr,{asChild:!0,children:i.jsxs(Pe,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(ft,{className:"w-4 h-4"}),"Aperçu rapide"]})}),i.jsxs(Wt,{children:[i.jsxs(zt,{className:"text-left",children:[i.jsx(Vt,{children:"Détails du match"}),i.jsx(Yt,{children:"Informations détaillées sur le match"})]}),i.jsx(bt,{data:o}),i.jsx(Ut,{className:"pt-2",children:i.jsx(yr,{asChild:!0,children:i.jsx(Pe,{variant:"outline",children:"Fermer"})})})]})]}):i.jsxs(zn,{open:t,onOpenChange:r,children:[i.jsx(Un,{asChild:!0,children:i.jsxs(Pe,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(ft,{className:"w-4 h-4"}),"Aperçu rapide"]})}),i.jsxs(Et,{className:"sm:max-w-xl",children:[i.jsxs(Ct,{children:[i.jsx(Dt,{children:"Détails du match"}),i.jsx(Pt,{children:"Informations détaillées sur le match"})]}),i.jsx(bt,{data:o})]})]})},bt=({data:e})=>e?(console.log(e),i.jsx("div",{children:i.jsxs(En,{defaultValue:"stats",className:"w-full min-h-[500px]",children:[i.jsxs(Cn,{children:[i.jsx(Te,{className:"text-xs font-semibold md:text-sm",value:"stats",children:"Face à face"}),i.jsx(Te,{className:"text-xs font-semibold md:text-sm",value:"injuries",children:"Absences"}),i.jsx(Te,{className:"text-xs font-semibold md:text-sm",value:"lineup",children:"Composition"}),i.jsx(Te,{className:"text-xs font-semibold md:text-sm",value:"history",children:"Historique"})]}),i.jsx(Dn,{className:"py-2",value:"injuries",children:i.jsx(Ir,{data:e})})]})})):null,Fr=()=>{var a;const{data:e,isLoading:n}=Pn(),[t,r]=m.useState("");if(n||!e)return i.jsx("div",{children:"Loading..."});const o=e.groupedFixtures.map(s=>dt(s[0].starting_at_timestamp));return t===""&&o.length>0&&r(o[0]),i.jsxs("div",{children:[i.jsx(kr,{dates:o,selectedDay:t,setSelectedDay:r}),i.jsx("div",{className:"flex flex-col gap-4",children:(a=e.groupedFixtures.find(s=>s.some(l=>dt(l.starting_at_timestamp)===t)))==null?void 0:a.map(s=>i.jsxs(Bn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col items-center justify-between p-3 transition-colors border border-gray-200 rounded-lg md:flex-row md:p-4 hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(An,{result:s}),i.jsx(Nn,{fixture:s}),i.jsx(On,{result:s})]}),i.jsx("div",{className:"flex flex-col items-center gap-4 mt-2 md:flex-row",children:i.jsx($r,{fixtureId:s.id})})]},s.id))})]})},kr=({dates:e,selectedDay:n,setSelectedDay:t})=>i.jsx("div",{className:"flex gap-2 p-4 overflow-x-auto",children:e.map(r=>i.jsx(Pe,{variant:n===r?"default":"outline",className:`flex-shrink-0 h-16 ${n===r?"bg-redsuperlig text-white":""}`,onClick:()=>t(r),children:i.jsxs("div",{children:[i.jsx("div",{className:"text-left",children:r.split(" ")[0]}),i.jsx("div",{className:"text-left",children:r.split(" ").slice(1).join(" ")})]})},r))}),fo=Rn(function(){return i.jsxs("div",{className:"min-h-screen",children:[i.jsx(Tn,{title:"Calendrier en cours",subtitle:"Suivez le calendrier en cours de la Süper Lig"}),i.jsx("div",{className:"container p-4 mx-auto ",children:i.jsx(Fr,{})})]})});export{fo as default};
