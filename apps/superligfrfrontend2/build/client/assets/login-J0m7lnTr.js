import{a as x}from"./with-props-DOCsIwbA.js";import{q as u,r as n,l as e}from"./chunk-IR6S3I6Y-CejqwHmg.js";import{B as h}from"./button-CxA8GfrW.js";import{L as o,I as d}from"./label-C0bLR-oj.js";import{U as f}from"./user-auth.service-DFgw_HWI.js";import"./index-BKcokVnB.js";import"./utils-DgjiVB1k.js";import"./index-CsB1J-M4.js";import"./index-3ThQvDAs.js";import"./http-CHaSCwl_.js";const g=new f,F=x(function(){const m=u(),[r,s]=n.useState(!1),[t,a]=n.useState(null),c=async i=>{i.preventDefault(),s(!0),a(null);try{const{email:l,password:p}=Object.fromEntries(new FormData(i.target));await g.login({email:l,password:p}),m("/home")}catch{a("Identifiants incorrects. Veuillez réessayer.")}finally{s(!1)}};return e.jsx("form",{onSubmit:c,className:"p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col items-center text-center",children:e.jsx("h1",{className:"text-2xl font-bold text-redsuperlig",children:"Connexion"})}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{className:"text-redsuperlig",htmlFor:"email",children:"Email"}),e.jsx(d,{id:"email",type:"email",name:"email",placeholder:"m@example.com",required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(o,{className:"text-redsuperlig",htmlFor:"password",children:"Mot de passe"})}),e.jsx(d,{id:"password",type:"password",name:"password",required:!0})]}),t&&e.jsx("div",{className:"p-3 text-sm text-red-500 bg-red-100 border border-red-200 rounded",children:t}),e.jsx(h,{type:"submit",className:"w-full bg-redsuperlig hover:bg-redsuperlig/80",disabled:r,children:r?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white rounded-full animate-spin border-t-transparent"}),"Connexion en cours..."]}):"Connexion"}),e.jsxs("div",{className:"text-sm text-center",children:["Vous n'avez pas de compte ?"," ",e.jsx("a",{href:"/register",className:"underline underline-offset-4",children:"Créer un compte"})]})]})})});export{F as default};
