import{r as u,l as h,t as v,v as E}from"./chunk-IR6S3I6Y-CejqwHmg.js";import{u as _,S as y}from"./index-BKcokVnB.js";function k(e,t,{checkForDefaultPrevented:o=!0}={}){return function(c){if(e==null||e(c),o===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function B(e,t){const o=u.createContext(t),n=r=>{const{children:s,...i}=r,a=u.useMemo(()=>i,Object.values(i));return h.jsx(o.Provider,{value:a,children:s})};n.displayName=e+"Provider";function c(r){const s=u.useContext(o);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}return[n,c]}function N(e,t=[]){let o=[];function n(r,s){const i=u.createContext(s),a=o.length;o=[...o,s];const f=d=>{var x;const{scope:S,children:m,...l}=d,C=((x=S==null?void 0:S[e])==null?void 0:x[a])||i,p=u.useMemo(()=>l,Object.values(l));return h.jsx(C.Provider,{value:p,children:m})};f.displayName=r+"Provider";function M(d,S){var C;const m=((C=S==null?void 0:S[e])==null?void 0:C[a])||i,l=u.useContext(m);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${r}\``)}return[f,M]}const c=()=>{const r=o.map(s=>u.createContext(s));return function(i){const a=(i==null?void 0:i[e])||r;return u.useMemo(()=>({[`__scope${e}`]:{...i,[e]:a}}),[i,a])}};return c.scopeName=e,[n,A(c,...t)]}function A(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(r){const s=n.reduce((i,{useScope:a,scopeName:f})=>{const d=a(r)[`__scope${f}`];return{...i,...d}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return o.scopeName=t.scopeName,o}function U(e){const t=e+"CollectionProvider",[o,n]=N(t),[c,r]=o(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:l,children:C}=m,p=v.useRef(null),x=v.useRef(new Map).current;return h.jsx(c,{scope:l,itemMap:x,collectionRef:p,children:C})};s.displayName=t;const i=e+"CollectionSlot",a=v.forwardRef((m,l)=>{const{scope:C,children:p}=m,x=r(i,C),R=_(l,x.collectionRef);return h.jsx(y,{ref:R,children:p})});a.displayName=i;const f=e+"CollectionItemSlot",M="data-radix-collection-item",d=v.forwardRef((m,l)=>{const{scope:C,children:p,...x}=m,R=v.useRef(null),P=_(l,R),I=r(f,C);return v.useEffect(()=>(I.itemMap.set(R,{ref:R,...x}),()=>void I.itemMap.delete(R))),h.jsx(y,{[M]:"",ref:P,children:p})});d.displayName=f;function S(m){const l=r(e+"CollectionConsumer",m);return v.useCallback(()=>{const p=l.collectionRef.current;if(!p)return[];const x=Array.from(p.querySelectorAll(`[${M}]`));return Array.from(l.itemMap.values()).sort((I,w)=>x.indexOf(I.ref.current)-x.indexOf(w.ref.current))},[l.collectionRef,l.itemMap])}return[{Provider:s,Slot:a,ItemSlot:d},S,n]}var O=u.createContext(void 0);function q(e){const t=u.useContext(O);return e||t||"ltr"}function b(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...o)=>{var n;return(n=t.current)==null?void 0:n.call(t,...o)},[])}var T=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},$=E.useId||(()=>{}),j=0;function z(e){const[t,o]=u.useState($());return T(()=>{o(n=>n??String(j++))},[e]),t?`radix-${t}`:""}function F({prop:e,defaultProp:t,onChange:o=()=>{}}){const[n,c]=g({defaultProp:t,onChange:o}),r=e!==void 0,s=r?e:n,i=b(o),a=u.useCallback(f=>{if(r){const d=typeof f=="function"?f(e):f;d!==e&&i(d)}else c(f)},[r,e,c,i]);return[s,a]}function g({defaultProp:e,onChange:t}){const o=u.useState(e),[n]=o,c=u.useRef(n),r=b(t);return u.useEffect(()=>{c.current!==n&&(r(n),c.current=n)},[n,c,r]),o}export{U as a,k as b,N as c,q as d,F as e,z as f,T as g,B as h,b as u};
